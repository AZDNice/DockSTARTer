services:
  vsftpd:
    container_name: vsftpd
    environment:
      - FILE_OPEN_MODE=${VSFTPD_FILE_OPEN_MODE}
      - FTP_PASS=${VSFTPD_FTP_PASS}
      - FTP_USER=${VSFTPD_FTP_USER}
      - LOCAL_UMASK=${VSFTPD_LOCAL_UMASK}
      - LOG_STDOUT=${VSFTPD_LOG_STDOUT}
      - NETWORK_MODE=${VSFTPD_NETWORK_MODE}
      - PASV_ADDR_RESOLVE=${VSFTPD_PASV_ADDR_RESOLVE}
      - PASV_ADDRESS_ENABLE=${VSFTPD_PASV_ADDRESS_ENABLE}
      - PASV_ADDRESS_RESOLVE=${VSFTPD_PASV_ADDRESS_RESOLVE}
      - PASV_ADDRESS=${VSFTPD_PASV_ADDRESS}
      - PASV_ENABLE=${VSFTPD_PASV_ENABLE}
      - PASV_MAX_PORT=${VSFTPD_PASV_MAX_PORT}
      - PASV_MIN_PORT=${VSFTPD_PASV_MIN_PORT}
      - REVERSE_LOOKUP_ENABLE=${VSFTPD_REVERSE_LOOKUP_ENABLE}
      - TZ=${TZ}
      - XFERLOG_STD_FORMAT=${VSFTPD_XFERLOG_STD_FORMAT}
    logging:
      driver: json-file
      options:
        max-file: ${DOCKERLOGGING_MAXFILE}
        max-size: ${DOCKERLOGGING_MAXSIZE}
    restart: unless-stopped
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - ${DOCKERSHAREDDIR}:/shared
      - ${VSFTPD_DATADIR}:/home/vsftpd
