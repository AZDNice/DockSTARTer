services:
  samba:
    container_name: samba
    environment:
      - GROUPID=${PGID}
      - NMBD=${SAMBA_NMBD}
      - SHARE=${DOCKERHOSTNAME};/${DOCKERHOSTNAME}/;yes;no;yes;all;${SAMBA_USERNAME}
      - TZ=${TZ}
      - USER=${SAMBA_USERNAME};${SAMBA_PASSWORD}
      - USERID=${PUID}
      - WORKGROUP=${SAMBA_WORKGROUP}
    logging:
      driver: json-file
      options:
        max-file: ${DOCKERLOGGING_MAXFILE}
        max-size: ${DOCKERLOGGING_MAXSIZE}
    restart: unless-stopped
    volumes:
      - ./:/${DOCKERHOSTNAME}/compose
      - /etc/localtime:/etc/localtime:ro
      - ${BACKUP_CONFDIR}:/${DOCKERHOSTNAME}/backup
      - ${DOCKERCONFDIR}:/${DOCKERHOSTNAME}/config
      - ${DOCKERSHAREDDIR}:/${DOCKERHOSTNAME}/shared
      - ${DOCKERSHAREDDIR}:/shared
      - ${DOWNLOADSDIR}:/${DOCKERHOSTNAME}/downloads
      - ${DOWNLOADSDIR}:/downloads
      - ${MEDIADIR_BOOKS}:/${DOCKERHOSTNAME}/books
      - ${MEDIADIR_BOOKS}:/books
      - ${MEDIADIR_COMICS}:/${DOCKERHOSTNAME}/comics
      - ${MEDIADIR_COMICS}:/comics
      - ${MEDIADIR_MOVIES}:/${DOCKERHOSTNAME}/movies
      - ${MEDIADIR_MOVIES}:/movies
      - ${MEDIADIR_MUSIC}:/${DOCKERHOSTNAME}/music
      - ${MEDIADIR_MUSIC}:/music
      - ${MEDIADIR_TV}:/${DOCKERHOSTNAME}/tv
      - ${MEDIADIR_TV}:/tv
